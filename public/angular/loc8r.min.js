(function(){function o(o){o.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}angular.module("loc8rApp",["ngRoute"]);angular.module("loc8rApp").config(["$routeProvider",o])})();(function(){o.$inject=["$scope","loc8rData","geolocation"];function o(o,t,n){var r=this;r.pageHeader={title:"Loc8r",strapline:"Find places to work with wifi near you!"};r.sidebar={content:"Looking for wifi and a seat? Loc8r helps you find places to work when out and about. Perhaps with coffee, cake or a pint? Let Loc8r help you find the place you're looking for."};r.message="Checking your location";r.getData=function(o){var n=o.coords.latitude,a=o.coords.longitude;r.message="Searching for nearby locations";t.locationByCoords(n,a).success(function(o){r.message=o.length>0?"":"No locations found";r.data={locations:o}}).error(function(o){r.message="Sorry, something has gone wrong";console.log(e)})};r.showError=function(t){o.$apply(function(){r.message=t.message})};r.noGeo=function(){o.$apply(function(){r.message="Geolocation not supported by this browser"})};n.getPosition(r.getData,r.showError,r.noGeo)}angular.module("loc8rApp").controller("homeCtrl",o)})();(function(){var o=function(){return{restrict:"EA",scope:{thisRating:"=rating"},templateUrl:"/common/directives/ratingStars/ratingStars.template.html"}};angular.module("loc8rApp").directive("ratingStars",o)})();(function(){var o=function(o){return!isNaN(parseFloat(o)&&isFinite(o))};var t=function(){return function(t){var e;if(!t){return"Missing distance"}if(o(t)){t=parseInt(t,10)}if(t>1){e=parseFloat(t).toFixed()+"m"}else{return">1m"}return e}};angular.module("loc8rApp").filter("formatDistance",t)})();(function(){var o=function(){var o=function(o,t,e){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(o,t)}else{cbNoGeo()}};return{getPosition:o}};angular.module("loc8rApp").service("geolocation",o)})();(function(){o.$inject=["$http"];function o(o){var t=function(t,e){return o.get("/api/locations?lng="+e+"&lat="+t+"&maxDistance=100000000")};return{locationByCoords:t}}angular.module("loc8rApp").service("loc8rData",o)})();